(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{cMWJ:function(e,t,o){"use strict";o.r(t),o.d(t,"FormImageModule",function(){return h});var n=o("ofXK"),i=o("tyNb"),a=o("3Pt+"),r=o("fXoL"),l=o("lA0O"),c=o("/t3+"),b=o("bTqV"),m=o("NFeN"),s=o("kmnG"),u=o("qFsG");const f=["fileInput"],p=function(){return["/album/list-albuns"]},d=[{path:"",component:(()=>{class e{constructor(e,t,o,n){this.imagesService=e,this.fb=t,this.route=o,this.location=n}ngOnInit(){this.route.params.subscribe(e=>{this.hasgAlbum=e.hashAlbum}),this.formNewImage=this.fb.group({file:[""],title:["",[a.p.required]]})}onFileSelected(e){this.file=e.target.files[0],this.selectedFileName=this.file.name}sendImageApi(){this.imagesService.uploadImage(this.file,this.formNewImage.controls.title.value).subscribe(e=>{this.addImagetoAlbum([e.data.deletehash])},e=>{console.error("Erro ao adicionar imagem:",e)})}addImagetoAlbum(e){this.imagesService.addImageToAlbum(this.hasgAlbum,e).subscribe(()=>{this.goBack()},e=>{console.error("Erro ao adicionar imagem ao \xe1lbum:",e)})}goBack(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(l.a),r.Nb(a.d),r.Nb(i.a),r.Nb(n.g))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-form-image"]],viewQuery:function(e,t){if(1&e&&r.Cc(f,1),2&e){let e;r.oc(e=r.bc())&&(t.fileInput=e.first)}},decls:22,vars:5,consts:[[1,"title-toolbar"],["mat-fab","","extended","","color","primary",3,"routerLink"],[1,"main-div"],[1,"form-album",3,"formGroup","ngSubmit"],["formControlName","title","matInput","","placeholder","","value",""],[1,"input-file"],[1,"input-file-label"],["type","file","formControlName","file","accept","image/*",1,"custom-file-input",3,"change"],["fileInput",""],[1,"file-name"],[1,"buttons-footer"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){1&e&&(r.Tb(0,"mat-toolbar",0),r.Tb(1,"span"),r.zc(2,"Novo Imagem"),r.Sb(),r.Tb(3,"button",1),r.Tb(4,"mat-icon"),r.zc(5,"arrow_back"),r.Sb(),r.Sb(),r.Sb(),r.Tb(6,"div",2),r.Tb(7,"form",3),r.ac("ngSubmit",function(){return t.sendImageApi()}),r.Tb(8,"mat-form-field"),r.Tb(9,"mat-label"),r.zc(10,"T\xedtulo"),r.Sb(),r.Ob(11,"input",4),r.Sb(),r.Tb(12,"div",5),r.Tb(13,"label",6),r.zc(14," Selecionar imagens "),r.Tb(15,"input",7,8),r.ac("change",function(e){return t.onFileSelected(e)}),r.Sb(),r.Sb(),r.Tb(17,"span",9),r.zc(18),r.Sb(),r.Sb(),r.Tb(19,"div",10),r.Tb(20,"button",11),r.zc(21,"Salvar"),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&e&&(r.Cb(3),r.jc("routerLink",r.lc(4,p)),r.Cb(4),r.jc("formGroup",t.formNewImage),r.Cb(11),r.Ac(t.selectedFileName),r.Cb(2),r.jc("disabled",t.formNewImage.invalid||!t.formNewImage.get("title").value||!t.formNewImage.get("file").value))},directives:[c.a,b.a,i.c,m.a,a.q,a.l,a.f,s.b,s.e,a.c,u.b,a.k,a.e],styles:[".title-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.form-album[_ngcontent-%COMP%]{margin:15px 0 0 10px;display:flex;flex-direction:column;width:40%}.form-album[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:15px}.form-album[_ngcontent-%COMP%]   .buttons-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.form-album[_ngcontent-%COMP%]   .buttons-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:10px}.custom-file-input[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer}.input-file[_ngcontent-%COMP%]{position:relative;width:100%;margin-bottom:20px;border:1px solid;padding:10px 0}.input-file-label[_ngcontent-%COMP%]{display:inline-block;background-color:#3f51b5;color:#fff;padding:10px 20px;border-radius:4px;cursor:pointer;margin:0 10px}.input-file-label[_ngcontent-%COMP%]:hover{background-color:#303f9f}"]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(d)],i.e]}),e})(),h=(()=>{class e{}return e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({factory:function(t){return new(t||e)},imports:[[n.c,a.o,g,c.b,m.b,b.b,u.c,s.d]]}),e})()}}]);